<p-button
  (click)="showModalDialog()"
  icon="pi pi-plus"
  label="Add new product"
></p-button>
<p-dialog
  header="Add new product"
  [(visible)]="displayModal"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <label for="title" class="block mb-2">Title*</label>
    <input
      class="mb-2"
      type="text"
      id="title"
      pInputText
      formControlName="title"
      [class.ng-dirty]="
        form.get('title')?.hasError('required') && form.get('title')?.touched
      "
    />
    <small
      class="p-error block mb-2"
      *ngIf="
        form.get('title')?.hasError('required') && form.get('title')?.touched
      "
    >
      This field is required.
    </small>

    <label for="price" class="block mb-2">Price*</label>
    <input
      class="mb-2"
      type="number"
      id="price"
      pInputText
      formControlName="price"
      [class.ng-dirty]="
        form.get('price')?.hasError('required') && form.get('price')?.touched
      "
    />
    <small
      class="p-error block"
      *ngIf="
        form.get('price')?.hasError('required') && form.get('price')?.touched
      "
    >
      This field is required.
    </small>

    <label for="brand" class="block mb-2">Brand*</label>
    <input
      class="mb-2"
      type="text"
      id="brand"
      pInputText
      formControlName="brand"
      [class.ng-dirty]="
        form.get('brand')?.hasError('required') && form.get('brand')?.touched
      "
    />
    <small
      class="p-error block"
      *ngIf="
        form.get('brand')?.hasError('required') && form.get('brand')?.touched
      "
    >
      This field is required.
    </small>

    <label for="category" class="block mb-2">Category*</label>
    <input
      class="mb-2"
      type="text"
      id="category"
      pInputText
      formControlName="category"
      [class.ng-dirty]="
        form.get('category')?.hasError('required') &&
        form.get('category')?.touched
      "
    />
    <small
      class="p-error block"
      *ngIf="
        form.get('category')?.hasError('required') &&
        form.get('category')?.touched
      "
    >
      This field is required.
    </small>

    <label for="description" class="block mb-2">Description*</label>
    <textarea
      rows="5"
      cols="30"
      pInputTextarea
      [autoResize]="true"
      type="text"
      id="description"
      formControlName="description"
      [class.ng-dirty]="
        form.get('description')?.hasError('required') &&
        form.get('description')?.touched
      "
    ></textarea>
    <small
      class="p-error block"
      *ngIf="
        form.get('description')?.hasError('required') &&
        form.get('description')?.touched
      "
    >
      This field is required.
    </small>

    <div class="flex justify-content-end mt-3">
      <p-button
        icon="pi pi-plus"
        label="Save"
        type="submit"
        [disabled]="submitted"
        color="accent"
      ></p-button>
    </div>
  </form>
</p-dialog>
